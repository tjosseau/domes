/**
 * Domes library
 *
 * @author      Thomas Josseau
 * @version     0.1.2
 * @date        2014.09.29
 * @link        https://github.com/tjosseau/domes
 *
 * @description
 *      DOM elements manager, nothing less, nothing more.
 */
void function(n){var k,m="undefined"!==typeof n.Node,l=function(a,c){for(var b in c)c.propertyIsEnumerable(b)&&(a[b]=c[b]);return a},p=function(a){for(var c={},b=a.length;b--;)c[a[b].name]=a[b].value;return c},h="classList"in document.createElement("div")?function(a,c,b){switch(c){case "a":return a.classList.add(b);case "r":return a.classList.remove(b);case "t":return a.classList.toggle(b);case "c":return a.classList.contains(b)}}:function(a,c,b){switch(c){case "a":h(a,"c",b)||(a.className+=" "+b); break;case "r":a.className=a.className.replace(new RegExp("(^|\\s)"+b+"(\\s|$)")," ").replace(/\s$/,"");break;case "t":h(a,"c",b)?h(a,"a",b):h(a,"r",b);break;case "c":return-1!==(" "+a.className+" ").indexOf(" "+b+" ")}},q=function(a,c,b){a=a.querySelectorAll(b);b=a.length;for(c.length=b;b--;)c[b]=a[b];return c},g=function(){l(this,{length:0,events:[]})};l(g,{prototype:{add:function(a){a&&1===a.nodeType&&!this.contains(a)&&(this[this.length++]=a);return this},trim:function(){if(arguments.length){var a, c=this.length,b=(new g).merge(arguments),d,e=b.length,f=[];for(a=0;a<c;a++)for(d=0;d<e;d++)if(this[a]===b[d]){f.push(a);break}for(a=f.length;a--;)Array.prototype.splice.call(this,f[a],1)}else for(;this.length;)delete this[this.length--];return this},merge:function(){for(var a=-1,c,b;c=arguments[++a];)if(c instanceof g)for(c=c.length-1,b=-1;b++<c;)this.add(arguments[a][b]);else if(-1<c.length)for(c=c.length-1,b=-1;b++<c;)this.merge(arguments[a][b]);else this.add(c);return this},call:function(a){var c= [],b=[],d,e=arguments.length,f=this.length;for(d=1;d<e;d++)c.push(arguments[d]);for(d=0;d<f;d++)b.push(this[d][a].apply(this[d],c));return b},contains:function(a){for(var c=this.length;c--;)if(a===this[c])return!0;return!1},element:function(){return this[0]},elements:function(){for(var a=[],c=this.length-1,b=-1;b++<c;)a.push(this[b]);return a},nth:function(a){return(new g).add(this[a])},each:function(a){for(var c=this.length-1,b=-1;b++<c;)a.call(this[b],this[b],b);return this},query:function(a){for(var c= new g,b=this.length-1,d=-1;d++<b;)q(this[d],c,a);return c},first:function(){return this.nth(0)},last:function(){return this.nth(this.length-1)},parent:function(){for(var a=new g,c=this.length-1,b=-1;b++<c;)a.add(this[b].parentNode);return a},children:function(){for(var a=new g,c=this.length-1,b,d,e,f=-1;f++<c;)for(e=this[f],b=-1,d=e.childNodes.length;b++<d;)a.add(e.childNodes[b]);return a},append:function(){for(var a=-1,c=arguments.length-1,b,d=this.length-1,e;a++<c;)if(e=-1,b=arguments[a],"string"=== typeof b)for(;e++<d;)this[e].insertAdjacentHTML("beforeend",b);else{var f=this[d];if(1===b.nodeType)f.appendChild(b);else if(b instanceof g)for(d=b.length-1;e++<d;)f.appendChild(b[e])}return this},prepend:function(){for(var a=-1,c=arguments.length-1,b,d=this.length-1,e=-1;a++<c;)if(e=-1,b=arguments[a],"string"===typeof b)for(;e++<d;)this[e].insertAdjacentHTML("afterbegin",b);else{var f=this[d];if(1===b.nodeType)f.insertBefore(b,f.firstChild);else if(b instanceof g)for(e=b.length;e--;)f.insertBefore(b[e], f.firstChild)}return this},before:function(){for(var a=-1,c=arguments.length-1,b,d=this.length-1,e=-1;a++<c;)if(e=-1,b=arguments[a],"string"===typeof b)for(;e++<d;)this[e].insertAdjacentHTML("beforebegin",b);else{var f=this[d];if(1===b.nodeType)f.parentNode.insertBefore(b,f);else if(b instanceof g)for(e=b.length;e--;)f.parentNode.insertBefore(b[e],f)}return this},after:function(){for(var a=-1,c=arguments.length-1,b,d=this.length-1,e=-1;a++<c;)if(e=-1,b=arguments[a],"string"===typeof b)for(;e++<d;)this[e].insertAdjacentHTML("afterend", b);else{var f=this[d];if(1===b.nodeType)f.parentNode.insertBefore(b,f.nextSibling);else if(b instanceof g)for(e=b.length;e--;)f.parentNode.insertBefore(b[e],f.nextSibling)}return this},remove:function(){for(var a,c=this.length;c--;)(a=this[c]).parentNode&&a.parentNode.removeChild(a);return this},type:function(){if(!this.length)return"";for(var a=this.length,c,b;a--;){c=this[a];if(b&&c.tagName!==b)return"*";b=c.tagName}return b.toLowerCase()},outer:function(a){var c=this.length-1,b=-1;if(null==a|| !0===a){if(-1===c)return null;for(var d=[];b++<c;)d.push(this[b].outerHTML);return!0===a?d:d.join("")}if("string"===typeof a)for(;b++<c;)this[b].outerHTML=a;else if(1===a.nodeType)for(;b++<c;)this[b].outerHTML=a.outerHTML;else if(a instanceof g)for(;b++<c;)this[b].outerHTML=a.outer();else for(;b++<c;)this[b].outerHTML=a.toString();return this},inner:function(a){var c=this.length-1,b=-1;if(null==a||!0===a){if(-1===c)return null;for(var d=[];b++<c;)d.push(this[b].innerHTML);return!0===a?d:d.join("")}if("string"=== typeof a)for(;b++<c;)this[b].innerHTML=a;else if(1===a.nodeType)for(;b++<c;)this[b].innerHTML=a.outerHTML;else if(a instanceof g)for(;b++<c;)this[b].innerHTML=a.outer();else for(;b++<c;)this[b].innerHTML=a.toString();return this},text:function(a){var c=this.length-1,b=-1;if("string"===typeof a)for(;b++<c;)this[b].innerText=a;else{if(-1===c)return null;for(var d=[];b++<c;)d.push(this[b].innerText);return!0===a?d:d.join("")}return this},empty:function(){this.inner("");return this},attr:function(a,c){var b= this.length-1,d=-1;if(a){if(!0===a){for(var e=[];d++<b;)e.push(p(this[d].attributes));return e}if("string"===typeof a){if(void 0===c)return-1<b?this[0].getAttribute(a):null;if(null===c)for(;d++<b;)this[d].removeAttribute(a);else for(;d++<b;)this[d].setAttribute(a,c)}else if("object"===typeof a)for(;d++<b;)for(e in a)null===a[e]?this[d].removeAttribute(e):this[d].setAttribute(e,a[e])}else return-1<b?p(this[0].attributes):null;return this},id:function(a){if(!a)return this.length?this[0].getAttribute("id"): null;if(!0===a){a=-1;for(var c=this.length-1,b=[];a++<c;)b.push(this[a].getAttribute("id"));return b}this.length&&this[0].setAttribute("id",a.toString());return this},cl:function(a,c){if(!a)return this.length?this[0].getAttribute("class"):null;var b=this.length-1,d=-1;if(!0===a){for(var e=[];d++<b;)e.push(this[d].getAttribute("class"));return e}if("string"===typeof a){if(null==c)return this.length?h(this[0],"c",a):null;if(!0===c)for(;d++<b;)h(this[d],"a",a);else if(!1===c)for(;d++<b;)h(this[d],"r", a);else if("toggle"===c)for(;d++<b;)h(this[d],"t",a)}else if("object"===typeof a)for(e in a)this.cl(e,a[e]);return this},style:function(a,c){if(!a)return this.length?this[0].getAttribute("style"):null;var b=this.length-1,d=-1;if(!0===a){for(var e=[];d++<b;)e.push(this[d].getAttribute("style"));return e}if("string"===typeof a){if(void 0===c)return-1<b?this[0].style[a]:null;if(null===c)for(;d++<b;)this[d].style[a]="";else for(;d++<b;)this[d].style[a]=c}else if("object"===typeof a)for(;d++<b;)for(e in a)this[d].style[e]= null===a[e]?"":a[e];return this},on:m?function(a,c){if("object"===typeof a)for(var b in a)this.on(b,a[b]);else{a=a.split(" ");var d=this.length;for(b=a.length;b--;){for(d=this.length;d--;)this[d].addEventListener(a[b],c,!1);this.events[a[b]]=c}return this}}:function(a,c){if("object"===typeof a)for(var b in a)this.on(b,a[b]);else{a=a.split(" ");var d=this.length;b=a.length;for(var e=function(){var a=window.event;return c.call(this,l(a,{target:a.srcElement||document,currentTarget:this,preventDefault:function(){a.returnValue= !1},stopPropagation:function(){a.cancelBubble=!0}}))};b--;){for(d=this.length;d--;)this[d].attachEvent("on"+a[b],e);this.events[a[b]]=e}return this}},off:m?function(a,c){if("object"===typeof a)for(var b in a)this.off(b,a[b]);else{a=a.split(" ");var d=this.length;for(b=a.length;b--;){for(d=this.length;d--;)this[d].removeEventListener(a[b],c||this.events[a[b]],!1);delete this.events[a[b]]}return this}}:function(a,c){if("object"===typeof a)for(var b in a)this.off(b,a[b]);else{a=a.split(" ");var d=this.length; for(b=a.length;b--;){for(d=this.length;d--;)this[d].detachEvent("on"+a[b],c||this.events[a[b]]);delete this.events[a[b]]}return this}}}});k=n.domes=function(a){return"string"===typeof a?k.query.apply(k,arguments):k.gather.apply(k,arguments)};l(k,{instance:g,fn:g.prototype,create:function(a,c){var b=new g;if(a)if(c)b.add(document.createElementNS(c,a));else switch(a){case "svg":b.add(document.createElementNS("http://www.w3.org/2000/svg",a));break;default:b.add(document.createElement(a))}return b},gather:function(){return(new g).merge(arguments)}, query:function(a){return q(document,new g,a)},ready:function(a){if("complete"===document.readyState)return a();m?document.addEventListener("DOMContentLoaded",function(){a()},!1):document.attachEvent("onreadystatechange",function(){echo(document.readyState);"complete"===document.readyState&&a()})}})}(window);
